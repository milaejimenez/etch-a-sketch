<!DOCTYPE html>
<html>
<head lang="en">
	<meta charset="utf-8">
	<title>Etch a Sketch</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>

	<h1 class="name">Etch-a-Sketch</h1>
		<div class="board twenty">	
		</div>

	<div class="controls">
		<button class="clear">Clear All</button>
		<input type="range" id="pixelsize" name="pizelsize" min="4" max="100" value="15" class="slider">
		<input type="color" id="color" name="colorpicker" value="blue">
	</div>

<script>



const board = document.querySelector('.board');
const clearbtn = document.querySelector('.clear')
const slider = document.querySelector('#pizelsize')

function createBlocks (times) {
	for(let i = 0; i < times; i++) {
	let newElement = document.createElement('div')
	board.appendChild(newElement);
	newElement.classList.add('block')
	}
};

function removeBlocks() {
	while (board.firstChild) {
    board.firstChild.remove()
	}
}

createBlocks(400)

const blocks = document.querySelectorAll('.block')

function changeColor(color) {
	blocks.forEach(item => {
    	item.addEventListener("mouseover", function() {
        item.style.backgroundColor = color;
    	});
	});
}
changeColor("blue")

clearbtn.addEventListener('click' , function() {
	blocks.forEach( item => {
	item.style.backgroundColor = "white"
})
})

inputs = document.querySelectorAll(".controls input")


function handleUpdate() {
	let value = this.value;
	createBlocks(value);
	document.documentElement.style.setProperty('--pixelsize', value);
	removeBlocks();
	createBlocks((value * value));
	changeColor("blue");
}

inputs.forEach(input => {
	input.addEventListener('change', handleUpdate);
})





</script>

</body>
</html>